{% extends "layout.html" %}

{% block head %}
<title>tmpshowquery</title>
<link href="static/css/index.css" rel="stylesheet" type="text/css" />
<script src="static/node_modules/jquery/dist/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.13/css/jquery.dataTables.min.css">
<meta charset="utf-8">
{% endblock %}

{% block main %}
<h2 id="ids" value="" style="float: left"></h2>
<form action="/">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <button type="submit" onclick="" style="float: right" class="btn"><i class="fa fa-home"></i>
        Home</button>
</form>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" rel="stylesheet" />
<div id="queryvalue" value="" class="table-responsive" style="page-break-inside:auto">
    <table id="idtable" class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Patient IDs</th>
                <th>Go to patient information</th>
            </tr>
        </thead>
        <tbody id="idtablevalues">
        </tbody>
    </table>
</div>

<script>
    var ids = JSON.parse('{{ ids|safe }}');
    ids.sort(function (a, b) {
        return parseInt(a) - parseInt(b);
    });

    var table = document.getElementById("idtablevalues");
    table.innerHTML = "";
    var index = 0;
    ids.forEach(function (id) {
        table = document.getElementById("idtablevalues");
        var row = table.insertRow(index);
        var cell = row.insertCell(0);
        cell.innerHTML = id;
        cell = row.insertCell(1);
        cell.setAttribute('id', id);
        cell.innerHTML = '<form action="/displayPatientInformation"><button style="font-size: 15px; border: none; background-color: #C8DBE4;" type="submit" type="button" class="classname" id="' + id + ' value="' + id + " >Patient " + id + "</button></form>";
        index = index + 1;
    });

    $(document).ready(function () {
        $('#idtable').DataTable({
            "pagingType": "full_numbers",
            "searching": false
        });
    });
</script>
{% endblock %}